{
  "key": "DREAM_TEAM_REFACTOR_SUMMARY.md",
  "value": "# DREAM TEAM AGENT REFACTORING SUMMARY\n\n## Enforcement Authority Decision: CRITIC-AGENT\n\n**Rationale:** The Critic agent is already adversarial with a built-in loop mechanism (\"You are not here to help. You are here to enforce quality\"). Overwatch is brand/client-focused, not technical verification.\n\n---\n\n## 1. CRITIC-AGENT (Enforcement Authority) — REFACTORED\n\nThe Critic is now the **SOLE AUTHORITY** for declaring:\n- STATUS: VERIFIED\n- STATUS: UNVERIFIED\n- STATUS: BLOCKED\n\n### Key Changes:\n- Added 5 GATES verbatim\n- Added BANNED LANGUAGE list\n- Added GATE VALIDATION PROCESS\n- Added IMPLICIT SUCCESS ELIMINATION (search for \"looks good\", \"seems\", etc.)\n- Added HARD FOOTER: \"If any gate is unmet, I MUST mark UNVERIFIED and stop.\"\n\n### The 5 GATES:\n1. **GOLDEN PATH PROOF** — Single first user action ≤60-second reproduction, exact visible outcome\n2. **EVIDENCE TOKEN** — Command output (0 errors, 0 warnings) OR grep proving active wiring OR log with timestamp OR file:line chain\n3. **WIRING PROOF** — User Action → Handler → State → Side Effect → UI (no gaps > 2 hops)\n4. **TEMPORAL / ORDERING ANALYSIS** — Event timeline (ms-level), race/double-fire/stale state risks\n5. **TOP 2 FAILURE MODES** — Each with Detection + Guard\n\n### Full Refactored Critic Prompt:\nSee `/Volumes/Storage/Prompt Library/files/critic-agent-refactored.md`\n\n---\n\n## 2. IMPLEMENTER-AGENT — REFACTORED\n\n### Key Changes:\n- Added disclaimer at top: \"**I AM NOT ALLOWED TO DECLARE VERIFIED/UNVERIFIED/BLOCKED.**\"\n- Added COMPLETION PROHIBITION section (banned language list)\n- Added EVIDENCE REQUIREMENTS for all 5 gates\n- Changed output format from \"IMPLEMENTATION REPORT\" to \"IMPLEMENTATION EVIDENCE REPORT\"\n- Added \"Awaiting Critic Evaluation\" footer\n- Banned: \"done\", \"fixed\", \"complete\", \"works\", \"should work\"\n\n### Full Refactored Implementer Prompt:\nSee `/Volumes/Storage/Prompt Library/files/implementer-agent-refactored.md`\n\n---\n\n## 3. TESTING-AGENT — REFACTORED\n\n### Key Changes:\n- Changed philosophy from \"test coverage\" to \"TRIPWIRES\"\n- Focus on: Single Assertion, Single Sentinel Log, Single Failing Condition\n- Added \"Scream tests, not coverage\"\n- Added EVIDENCE REQUIREMENTS for all 5 gates\n- Added TRIPWIRE PATTERNS section with 4 concrete examples\n- Changed output format to \"TRIPWIRE EVIDENCE REPORT\"\n- Added \"Awaiting Critic Evaluation\" footer\n- Banned: \"full test suite\", \"coverage target\", \"comprehensive testing\"\n\n### Full Refactored Testing Prompt:\nSee `/Volumes/Storage/Prompt Library/files/testing-agent-refactored.md`\n\n---\n\n## 4. NOTION AGENTS — NEED UPDATING\n\n### SSOT Codebase Analysis Agent v2\n**Page ID:** `f0ef288facc54e2396a9315aff8c623e`\n**URL:** https://www.notion.so/f0ef288facc54e2396a9315aff8c623e\n\n**Changes needed:**\n1. Add at top: \"**I AM NOT ALLOWED TO DECLARE VERIFIED/UNVERIFIED/BLOCKED.**\"\n2. Add COMPLETION PROHIBITION section\n3. Change \"Outputs\" section to \"EVIDENCE OUTPUT (For Critic Evaluation)\"\n4. Update Quick Copy prompt to include disclaimer\n5. Add \"EVIDENCE SUBMITTED FOR CRITIC EVALUATION\" at end of report\n\n**Updated Quick Copy – Invocation Prompt:**\n```javascript\nROLE\nYou are the SSOT Codebase Analysis Agent v2 operating inside a local git repository. You talk ONLY in plain text, no code execution.\n\n**I AM NOT ALLOWED TO DECLARE VERIFIED/UNVERIFIED/BLOCKED.**\n\n[... rest of prompt with same guardrails ...]\n\n4) Report clearly\n   - At the end, output:\n     - REPO MAP (high level)\n     - IMPLEMENTATION INVENTORY (DB, docs, core algorithms, tests, security)\n     - SSOT ALIGNMENT TABLE (text format)\n     - CONFIDENCE SCORE (0–100) and what extra evidence would raise it.\n     - \"EVIDENCE SUBMITTED FOR CRITIC EVALUATION\"\n```\n\n### SSOT Alignment Second-Look Agent v2\n**Page ID:** `cabc3d9a76cf4509b2f56790f1850326`\n**URL:** https://www.notion.so/cabc3d9a76cf4509b2f56790f1850326\n\n**Changes needed:**\n1. Add at top: \"**I AM NOT ALLOWED TO DECLARE VERIFIED/UNVERIFIED/BLOCKED.**\"\n2. Replace \"Guards Verdict\" language with gate evidence\n3. Change final output to provide evidence for Critic, not declare status\n4. Update to use the 5 gates when auditing\n\n### Repo Agent Dispatcher v2\n**Page ID:** `b2eefa9cb2fd476d837a23802b03acf2`\n**URL:** https://www.notion.so/b2eefa9cb2fd476d837a23802b03acf2\n\n**Changes needed:**\n1. Note that Critic is now the final status authority\n2. Update orchestration sequence to end with Critic gate validation\n3. Add note: \"No agent declares VERIFIED/UNVERIFIED/BLOCKED except Critic\"\n\n---\n\n## 5. OTHER AGENTS TO UPDATE\n\nAll other agents in the DREAM TEAM database should have:\n\n1. **Disclaimer at top:**\n   ```\n   **I AM NOT ALLOWED TO DECLARE VERIFIED/UNVERIFIED/BLOCKED.**\n   ```\n\n2. **Banned language check:**\n   Search and remove:\n   - \"done\"\n   - \"fixed\"\n   - \"complete\"\n   - \"works\"\n   - \"should work\"\n   - \"appears to\"\n   - \"seems\"\n   - \"likely\"\n   - \"looks good\"\n\n3. **Replace with:**\n   - \"Evidence provided\"\n   - \"Changes implemented\"\n   - \"Awaiting verification\"\n   - \"Submitted for evaluation\"\n\n---\n\n## 6. CENTRAL AUTHORITY PROTOCOL (Add to DREAM TEAM Contract)\n\nAdd to the global guardrails section:\n\n```\nCENTRAL AUTHORITY PROTOCOL\n\nThe CRITIC-AGENT is the SOLE AUTHORITY for declaring:\n- STATUS: VERIFIED\n- STATUS: UNVERIFIED\n- STATUS: BLOCKED\n\nALL OTHER AGENTS:\n- Cannot declare these statuses\n- Must feed evidence to Critic\n- Must include disclaimer: \"I am not allowed to declare VERIFIED/UNVERIFIED/BLOCKED\"\n\nThis is non-negotiable. No exceptions.\n```\n\n---\n\n## NEXT STEPS\n\n1. **Update local files** — Already done:\n   - `critic-agent-refactored.md`\n   - `implementer-agent-refactored.md`\n   - `testing-agent-refactored.md`\n\n2. **Update Notion pages manually** — The MCP update-page tool is having issues with content replacement. You'll need to:\n\n   a) Open each page in Notion\n   b) Copy the refactored prompts\n   c) Paste into the Quick Copy – Invocation Prompt field\n   d) Update the main page content\n\n3. **Test the refactored system** — Run a full DREAM TEAM analysis to verify:\n   - Implementer provides evidence, doesn't declare done\n   - Testing creates tripwires, not coverage theater\n   - Critic validates all 5 gates before declaring status\n\n---\n\n## SUMMARY OF CHANGES\n\n| Agent | Before | After |\n|-------|--------|-------|\n| Critic | General quality enforcer | **SOLE STATUS AUTHORITY** with 5 gates |\n| Implementer | Can declare \"done\" | Cannot declare status, provides evidence |\n| Testing | Full test suites | Tripwires (single assertion/log/failure) |\n| All others | Various completion claims | Must provide evidence for Critic |\n",
  "timestamp": 1769082747105,
  "ttl": 604800000,
  "tier": "vault",
  "metadata": {
    "tags": [
      "prompts",
      "vault"
    ]
  }
}