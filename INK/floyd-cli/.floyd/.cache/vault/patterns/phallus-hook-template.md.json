{
  "key": "phallus-hook-template.md",
  "value": "# PHALLUS Integration Hook\n# Add this to your project's .clinerules or project config\n\n## Auto-trigger PHALLUS for Python projects\n\nWhen working in Python projects, PHALLUS agent should be invoked automatically.\n\n### Detection Rules\n- Trigger if project contains: pyproject.toml, setup.py, requirements.txt, or .python-version\n- Trigger if current file ends with .py\n- Trigger if .phallus directory exists in project root\n\n### State Loading Protocol\nBefore any Python-related task, load:\n1. .phallus/AGENT_INSTRUCTIONS.md\n2. .phallus/master_plan.md  \n3. .phallus/progress.md (last 10 entries)\n4. .phallus/scratchpad.md\n5. .phallus/decisions/*.md (all ADRs)\n\n### Mandatory Checks\n- Verify type hints on all new functions\n- Check for hardcoded secrets\n- Ensure tests exist for new code\n- Validate idempotency of operations\n- Log all actions to progress.md\n\n### State Persistence\nAfter completing any task:\n- Update progress.md with timestamp and action\n- Update master_plan.md if phase progresses\n- Create ADR if architectural decision made\n- Update scratchpad.md with any debugging notes\n\n### Quality Gates\nAll Python code must:\n- Pass `ruff check`\n- Pass `mypy --strict`\n- Have >90% test coverage\n- Include docstrings\n- Use Pydantic V2 for validation\n",
  "timestamp": 1769082747154,
  "ttl": 604800000,
  "tier": "vault",
  "metadata": {
    "tags": [
      "prompts",
      "vault"
    ]
  }
}